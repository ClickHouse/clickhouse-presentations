<!DOCTYPE html>
<html lang="en">
<head>
    <title>–ù–µ–æ–±—ã—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ ClickHouse</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/yandex/styles/screen-16x9.css">
</head>
<body class="shower list">
    <header class="caption">
        <h1>–ù–µ–æ–±—ã—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ ClickHouse</h1>
    </header>

    <section class="slide" id="cover" style="background: #FFF url('pictures/title.png') no-repeat; background-size: 100%;">
        <h1 style="margin-top: 50px; font-size: 32pt; color: white;">–ù–µ–æ–±—ã—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏<br/>–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏<br/>–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ ClickHouse</h1>
    </section>

    <section class="slide">
        <h2>–û–±–æ –º–Ω–µ</h2>
        <p>–ê–ª–µ–∫—Å–µ–π, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ ClickHouse.</p>
    </section>

    <section class="slide">
        <h2>ClickHouse</h2>
        <p><ul>
            <li>–Ω–µ —Ç–æ—Ä–º–æ–∑–∏–ª;</li>
            <li>–Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç;</li>
            <li>–±—É–¥–µ—Ç –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç—å –µ—â—ë –±–æ–ª—å—à–µ.</li>
        </ul></p>
    </section>

    <section class="slide">
        <h2>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
        <img style="float: right; width: 30%;" src="pictures/whack_a_mole.jpg" />
        <p>–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö.</p>
        <p>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ–≥–æ, —á—Ç–æ –≤—ã–ª–µ–∑–∞–µ—Ç.</p>
        <p style="color: gray; font-size: 75%; margin-top: 200px;">–ü—Ä–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ &mdash; —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫–ª–∞–¥ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ö—É–∑—å–º–µ–Ω–∫–æ–≤–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 10 —É—Ç—Ä–∞.</p>
        <p style="float: right; color: gray; font-size: 40%;">https://www.techdesignforums.com/practice/technique/<br/>winning-at-whac-a-mole-redesigning-an-rf-transceiver/</p>
    </section>

    <section class="slide">
        <h2>–≠–ø–∏–∑–æ–¥ 1: MergeTree vs Memory</h2>
        <p>–í ClickHouse –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ &laquo;–¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü&raquo;.</p>
        <p><b>MergeTree</b> —Ç–∞–±–ª–∏—Ü—ã —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ.</p>
        <p><b>Memory</b> —Ç–∞–±–ª–∏—Ü—ã —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ.</p>

        <p>–ü–∞–º—è—Ç—å –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –¥–∏—Å–∫–∏*.</p>
        <p>–ó–Ω–∞—á–∏—Ç Memory —Ç–∞–±–ª–∏—Ü—ã –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º MergeTree?</p>

        <p style="color: gray; font-size: 75%; margin-top: 50px;">* –ß—Ç–æ –∑–Ω–∞—á–∏—Ç &laquo;–±—ã—Å—Ç—Ä–µ–µ&raquo;?. –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏. –ó–∞–¥–µ—Ä–∂–∫–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —á—Ç–µ–Ω–∏–π –∏ –∑–∞–ø–∏—Å–∏. IOPS –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–µ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏.</p>
        <p style="color: gray; font-size: 75%;">–ö–æ–Ω–µ—á–Ω–æ –ø–∞–º—è—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –¥–∏—Å–∫–æ–≤–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞,<br/>–Ω–∞–ø—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–∫–∞–Ω–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å vs. 10x PCIe 4.0 SSDs.</p>
    </section>

    <!--
        SELECT SearchPhrase, count() AS c FROM test.hits GROUP BY SearchPhrase ORDER BY c DESC LIMIT 10;
        CREATE TABLE test.hits_memory AS test.hits ENGINE = Memory;
        SET max_memory_usage = '20G';
        INSERT INTO test.hits_memory SELECT * FROM test.hits;
        SELECT SearchPhrase, count() AS c FROM test.hits_memory GROUP BY SearchPhrase ORDER BY c DESC LIMIT 10;
        -->

    <section class="slide">
        <video style="height: 100%; margin-top: -10px; margin-left: -80px; margin-right: -80px;"><source src="video/mergetree_vs_memory.mp4" type="video/mp4"></video>
    </section>

    <section class="slide">
        <h2>MergeTree vs Memory</h2>
        <p><b>Memory</b> —Ç–∞–±–ª–∏—Ü—ã —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ.</p>
        <p><b>MergeTree</b> —Ç–∞–±–ª–∏—Ü—ã —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ,<br/>—Ç–æ—á–Ω–µ–µ –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.</p>
        <p>–ù–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ <b>page cache</b>.</p>
        <p>–ò –∑–∞—Ç–µ–º —á–∏—Ç–∞—é—Ç—Å—è —É–∂–µ <span style="color: green;">–∏–∑ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–∏</span>.</p>

        <p>–ó–Ω–∞—á–∏—Ç –Ω–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É <b>Memory</b> –∏ <b>MergeTree</b> —Ç–∞–±–ª–∏—Ü–∞–º–∏
        <br/>–≤ —Å–ª—É—á–∞–µ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ page cache?</p>
    </section>

    <section class="slide">
        <h2>MergeTree vs Memory</h2>
        <p>–û—á–µ–≤–∏–¥–Ω—ã–µ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ <b>MergeTree</b> –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º <b>Memory</b>.</p>
        <p><b>MergeTree</b> —Ç–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∏ –≤—Ç–æ—Ä–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã,<br/>–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞–Ω–Ω—ã—Ö.</p>
        <p><b>Memory</b> —Ç–∞–±–ª–∏—Ü—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ç–æ–ª—å–∫–æ full scan.</p>

        <p style="color: gray;">–ù–æ —ç—Ç–æ—Ç —Å–ª—É—á–∞–π –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω.</p>

        <p style="color: green;">–ê –ø—Ä–∏ full scan –º–æ–∂–µ—Ç MergeTree –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º Memory?</p>
    </section>

    <!-- clickhouse-benchmark <<< "SELECT SearchPhrase, any(replaceAll(substring(URL, 1, 100), 'google', 'yandex')) AS s, count() AS c FROM test.hits GROUP BY SearchPhrase ORDER BY c DESC LIMIT 10" -->

    <section class="slide">
        <video style="width: 100%;"><source src="video/memory_is_slower.mp4" type="video/mp4"></video>
    </section>

    <section class="slide">
        <h2>MergeTree vs Memory</h2>
        <p>–ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ <b>MergeTree</b> –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º <b>Memory</b>.</p>
        <p><b>MergeTree</b> —Ç–∞–±–ª–∏—Ü—ã —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ<br/>–ø–æ –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É.</p>
        <p>–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤ ClickHouse —ç–∫—Å–ø–ª—É–∞—Ç–∏—Ä—É—é—Ç<br/>–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å (fast path).</p>

        <p>–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø—Ä–∏ GROUP BY –ø–æ–¥—Ä—è–¥ –¥–≤–∞–∂–¥—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–æ—Å—å
        <br/>–æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–æ –º—ã –Ω–µ –¥–µ–ª–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ.</p>

        <p style="color: gray; font-size: 75%;">–ü—Ä–æ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã –≤ ClickHouse —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫–ª–∞–¥ –ú–∞–∫—Å–∏–º–∞ –ö–∏—Ç—ã –∑–∞–≤—Ç—Ä–∞ –≤ 12:50.</p>

        <p style="color: green;">–ê –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ,<br/>–º–æ–∂–µ—Ç –ª–∏ MergeTree –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º Memory?</p>
    </section>

    <!-- –ü—Ä–∏–º–µ—Ä –ø—Ä–æ ClientIP –∏ RegionID -->

    <section class="slide">
        <h2 style="font-size: 32pt;">–ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ ClickHouse</h2>
        <p>–î–∞–Ω–Ω—ã–µ –≤ ClickHouse —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
        <br/>–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–∂–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º.</p>

        <table>
            <thead>
                <th>Array of Structures</th>
                <th style="padding-left: 1em;">Structure of Arrays</th>
            </thead>
            <tr>
                <td style="background-color: #FEE;">
        <pre>struct Point3d
{
    float x;
    float y;
    float z;
};
std::vector&lt;Point3d> points;</pre>
                </td>
                <td style="background-color: #EFE; padding-left: 1em;">
        <pre>struct Points
{
    std::vector&lt;float> x;
    std::vector&lt;float> y;
    std::vector&lt;float> z;
};</pre>
                </td>
            </tr>
        </table>
    </section>


    <section class="slide">
        <h2 style="font-size: 32pt;">–ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ ClickHouse</h2>
        <p>–î–∞–Ω–Ω—ã–µ –≤ ClickHouse —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
        <br/>–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–∂–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º. <b style="color: green;">–ü–æ –∫—É—Å–æ—á–∫–∞–º —Å—Ç–æ–ª–±—Ü–æ–≤</b>.</p>

        <pre>struct Chunk
{
    std::vector&lt;float> x;
    std::vector&lt;float> y;
    std::vector&lt;float> z;
};

<b style="color: green;">std::vector&lt;Chunk> chunks;</b>
</pre>
    <p>&mdash; <b>Morsel-based processing</b>.</p>
    </section>


    <section class="slide">
        <h2 style="font-size: 32pt;">–ö–∞–∫ –∏–º–µ–Ω–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã?</h2>
        <img style="float: right; height: 70%; margin-top: -70px; margin-right: -80px;" src="pictures/not_optimal.webp" />
        <p>–í —Å–ª—É—á–∞–µ <b>MergeTree</b>:</p>
        <p>&mdash; —á–∏—Ç–∞–µ–º —Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã;</p>
        <p>&mdash; –≤—ã—á–∏—Å–ª—è–µ–º –∏ —Å–≤–µ—Ä—è–µ–º —á–µ–∫—Å—É–º–º—ã;</p>
        <p>&mdash; —Ä–∞–∑–∂–∏–º–∞–µ–º —Å–∂–∞—Ç—ã–µ –±–ª–æ–∫–∏;</p>
        <p>&mdash; –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –∫—É—Å–æ—á–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤;</p>
        <p>&mdash; –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏—Ö;</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ö–∞–∫ –∏–º–µ–Ω–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã?</h2>
        <img style="float: left; height: 70%; margin-top: -70px; margin-left: -80px;" src="pictures/optimal.webp" />
        <p>–í —Å–ª—É—á–∞–µ <b>Memory</b>:</p>
        <p>&mdash; –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ —É–∂–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≥–æ—Ç–æ–≤—ã–µ<br/>&emsp; –∫—É—Å–æ—á–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤,</p>
        <p>&emsp; –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏—Ö;</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏?</h2>
        <p style="margin-top: -1em;">–í —Å–ª—É—á–∞–µ <b>MergeTree</b>:</p>
        <p>1. –ß–∏—Ç–∞–µ–º —Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:</p>
        <p>&mdash; —á–∏—Ç–∞—Ç—å –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ (<b>read</b>/<b>pread</b>, <b>mmap</b>)<br/>&emsp; –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ (<b>AIO</b>, <b>uring</b>) –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞;</p>
        <p>&mdash; –≤ —Å–ª—É—á–∞–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, –º–æ–∂–Ω–æ<br/>&emsp; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–æ–±—ã—á–Ω—ã–π read –∏–ª–∏ mmap)<br/>&emsp; –∏–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å page cache (<b>O_DIRECT</b>);</p>
        <p>&mdash; –µ—Å–ª–∏ —á–∏—Ç–∞—Ç—å –∏–∑ page cache –±–µ–∑ mmap,<br/>&emsp; —Ç–æ –±—É–¥–µ—Ç <span style="color: red;">–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</span> –∏–∑ page cache –≤ userspace;</p>
        <p>&mdash; —á–∏—Ç–∞–µ–º —Å–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ &mdash; –µ—Å–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è –±–æ–ª—å—à–æ–π,<br/>&emsp; —Ç–æ –¥–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞ –º–∞–ª–µ–Ω—å–∫–∞—è;</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏?</h2>
        <p style="margin-top: -1em;">–í —Å–ª—É—á–∞–µ <b>MergeTree</b>:</p>
        <p>2. –†–∞–∑–∂–∏–º–∞–µ–º —Å–∂–∞—Ç—ã–µ –±–ª–æ–∫–∏:</p>
        <p>&mdash; –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è LZ4*;</p>
        <p>&mdash; –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–∞–∫ –±–æ–ª–µ–µ —Å–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ —Å–∂–∞—Ç–∏—è (ZSTD),<br/>&emsp; —Ç–∞–∫ –∏ –±–æ–ª–µ–µ —Å–ª–∞–±—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ–æ–±—â–µ –±–µ–∑ —Å–∂–∞—Ç–∏—è (NONE);</p>
        <p>&mdash; –∏–Ω–æ–≥–¥–∞ NONE –≤–Ω–µ–∑–∞–ø–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —Å —á–µ–≥–æ –±—ã —ç—Ç–æ?</p>
        <p>&mdash; –∞ –±–ª–æ–∫–∞–º–∏ –∫–∞–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±—ã–ª–∏ —Å–∂–∞—Ç—ã –¥–∞–Ω–Ω—ã–µ?<br/>&emsp; –∏ –∫–∞–∫ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å?</p>

        <p style="color: gray; font-size: 75%; margin-top: 50px;">* –°–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫–ª–∞–¥ &laquo;–ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–∑–∂–∞—Ç–∏–µ LZ4&raquo; —Å HighLoad++ Siberia 2018.</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏?</h2>
        <p>–í —Å–ª—É—á–∞–µ <b>MergeTree</b>:</p>
        <p>3. –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –∫—É—Å–æ—á–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤:</p>
        <p>&mdash; –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∫ —Ç–∞–∫–æ–≤–æ–π –Ω–µ—Ç;</p>
        <p>&mdash; —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (memcpy);</p>
        <p>&mdash; –∞ –∑–∞—á–µ–º –≤–æ–æ–±—â–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ?</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–û—Ç–ª–∏—á–∏–µ MergeTree –∏ Memory</h2>
        <p>–í —Å–ª—É—á–∞–µ <b>Memory</b>:<br/>&mdash; –≥–æ—Ç–æ–≤—ã–µ –∫—É—Å–æ—á–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ.</p>
        <p>–í —Å–ª—É—á–∞–µ <b>MergeTree</b>:<br/>&mdash; –∫—É—Å–æ—á–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏.</p>
        <p><b>MergeTree</b> –¥–µ–ª–∞–µ—Ç –±–æ–ª—å—à–µ —Ä–∞–±–æ—Ç—ã,<br/>–Ω–æ –º–æ–∂–µ—Ç –ª–∏ —ç—Ç–æ –∏–Ω–æ–≥–¥–∞ –±—ã—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ–µ?</p>
    </section>

    <section class="slide">
        <h2>MergeTree vs Memory</h2>
        <p>–í —Å–ª—É—á–∞–µ <b>MergeTree</b>:</p>
        <p>&mdash; –∫—É—Å–æ—á–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏,
        <br/>&emsp; –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä –≤ —á–∏—Å–ª–µ —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å—Å—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ
        <br/>&emsp; –¥–ª—è <span style="color: green;">–∫—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏</span>!</p>
    </section>

    <!-- SELECT round(avg(blockSize())) FROM test.hits WHERE NOT ignore(URL, SearchPhrase) -->

    <section class="slide">
        <h2>–ö—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å</h2>
        <p><b>–° –∫–∞–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–∞?</b>
        <br/>&mdash; –∫–∞–∫–∞—è –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–∞, –Ω–∞ –∫–∞–∫–æ–π –º–∞—à–∏–Ω–µ?</p>
        <p><b>–° –∫–∞–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –∫—ç—à?</b>
        <br/>&mdash; –∫—ç—à –∫–∞–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –Ω–∞ –∫–∞–∫–æ–º CPU?
        <br/>&mdash; –æ–¥–∏–Ω –∏–ª–∏ –≤—Å–µ –≤–º–µ—Å—Ç–µ?</p>
        <p><b>–° –∫–∞–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é —á–µ–≥–æ?</b>
        <br/>&mdash; throughput, latency?..</p>
    </section>

    <section class="slide">
        <h2>–≠–ø–∏–∑–æ–¥ 2: —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ—Ä–º–æ–∑–∏—Ç?</h2>
        <p>–í ClickHouse –¥–∞–Ω–Ω—ã–µ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–∂–∞—Ç—ã–º–∏.</p>
        <p>–ü—Ä–∏ –∑–∞–ø–∏—Å–∏ —Å–∂–∏–º–∞—é—Ç—Å—è, –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ &mdash; —Ä–∞–∑–∂–∏–º–∞—é—Ç—Å—è.</p>
        <p>–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å—ã...</p>
        <p>–í —Ç–æ–ø–µ –ø–æ CPU &mdash; —Ñ—É–Ω–∫—Ü–∏—è LZ4_decomress_safe.</p>
        <p style="margin-top: 2em;">ü§î –ß—Ç–æ–±—ã –≤—Å—ë —É—Å–∫–æ—Ä–∏—Ç—å, –Ω–∞–¥–æ –ø—Ä–æ—Å—Ç–æ —É–±—Ä–∞—Ç—å —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö?</p>
    </section>

    <section class="slide">
        <img src="pictures/classic.jpg" style="height: 90%;" />
        <p style="font-size: 10pt; color: gray;">Megg, Mogg &amp; Owl Series by Simon Hanselmann</p>
    </section>

    <section class="slide">
        <h2>–ü—Ä–æ–±—É–µ–º —É–±—Ä–∞—Ç—å —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö</h2>
        <img style="float: right; width: 20%; margin-right: -80px;" src="pictures/frustration.jpg" />
        <p style="color: red;">–ù–æ –Ω–∏—á–µ–≥–æ —Ö–æ—Ä–æ—à–µ–≥–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç:</p>
        <p>1. –£–±—Ä–∞–ª–∏ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–ø–µ—Ä—å –æ–Ω–∏ –Ω–µ –ø–æ–º–µ—â–∞—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫.</p>
        <p>2. –£–±—Ä–∞–ª–∏ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–ø–µ—Ä—å —á—Ç–µ–Ω–∏–µ —Å –¥–∏—Å–∫–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç.</p>
        <p>3. –£–±—Ä–∞–ª–∏ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–ø–µ—Ä—å<br/>&emsp;–º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ page cache.</p>
        <p>...</p>
        <p>–ù–æ –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Å–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–º–µ—â–∞—é—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º<br/>–≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫—É &mdash; <b>–∏–º–µ–µ—Ç –ª–∏ —Å–º—ã—Å–ª –Ω–µ —Å–∂–∏–º–∞—Ç—å</b> –∏—Ö?</p>
    </section>

    <!-- –ü—Ä–∏–º–µ—Ä -->

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ: —Ä–∞–∑–∂–∞—Ç–∏–µ –∏–ª–∏ memcpy?</h2>
        <p>–§—É–Ω–∫—Ü–∏—é <b>memcpy</b> –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞–∫ baseline<br/> —Å–∞–º–æ–≥–æ —Å–ª–∞–±–æ–≥–æ —Å–∂–∞—Ç–∏—è –∏–ª–∏ —Ä–∞–∑–∂–∞—Ç–∏—è –≤ –±–µ–Ω—á–º–∞—Ä–∫–∞—Ö.</p>
        <p>–ö–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —ç—Ç–∞–ª–æ–Ω –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.</p>
        <p>–ü—Ä–∏–º–µ—Ä:
        <br/>&mdash; memcpy: <b style="color: green;">12 –ì–ë</b> –≤ —Å–µ–∫—É–Ω–¥—É.
        <br/>&mdash; LZ4 decompression: <b style="color: red;">2..4 –ì–ë</b> —Ä–∞–∑–∂–∞—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ–∫—É–Ω–¥—É.</p>
        <p>–í—ã–≤–æ–¥: memcpy –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Ä–∞–∑–∂–∞—Ç–∏–µ LZ4?</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ: —Ä–∞–∑–∂–∞—Ç–∏–µ –∏–ª–∏ memcpy?</h2>
        <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å—Ü–µ–Ω–∞—Ä–∏–π:</p>
        <p style="line-height: 1.5">&mdash; –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–µ;
        <br/>&mdash; –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –±–ª–æ–∫–∞–º;
        <br/>&mdash; –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–µ–±–æ–ª—å—à–æ–π –∏ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫—ç—à CPU;
        <br/>&mdash; –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫—ç—à CPU;
        <br/>&mdash; <b style="color: green;">–¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤</b>;</p>

        <p>–î–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–∏, –¥–∞–ª—å—à–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫—ç—à CPU.</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ: —Ä–∞–∑–∂–∞—Ç–∏–µ –∏–ª–∏ memcpy?</h2>
        <p>–ü—Ä–∏–º–µ—Ä: Ryzen 3950 (16 —è–¥–µ—Ä)</p>
        <p style="line-height: 1.5">&mdash; memcpy: 16√ó12 –ì–ë = <b>192 –ì–ë</b> –≤ —Å–µ–∫—É–Ω–¥—É.
        <br/>&mdash; LZ4 decompression: 16√ó2..4 –ì–ë = <b>32..48 –ì–ë</b> —Ä–∞–∑–∂–∞—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ–∫—É–Ω–¥—É.
        <br/>&mdash; —Å–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏: <b style="color: red;">30 –ì–ë</b>* –≤ —Å–µ–∫—É–Ω–¥—É.
        </p>

        <p>–í —Å–ª—É—á–∞–µ memcpy —á—Ç–µ–Ω–∏–µ —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–º—è—Ç–∏.</p>
        <p><span style="color: green;">–ù–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∂–∞—Ç–∏–µ, —Ç–æ –∏–∑ –ø–∞–º—è—Ç–∏ —á–∏—Ç–∞–µ—Ç—Å—è –º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö.</span>
        <br/><b>–ü–∞–º—è—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –¥–∏—Å–∫.</b> –†–∞–∑–∂–∞—Ç–∏–µ LZ4 –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º memcpy?</p>

        <p style="color: gray; font-size: 75%;">* –ø–∞–º—è—Ç—å –¥–≤—É—Ö–∫–∞–Ω–∞–ª—å–Ω–∞—è, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç–µ.<br/>–ü–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ CPU –¥–æ 48 –ì–ë –≤ —Å–µ–∫—É–Ω–¥—É.</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ: —Ä–∞–∑–∂–∞—Ç–∏–µ –∏–ª–∏ memcpy?</h2>
        <p>–ü—Ä–∏–º–µ—Ä: 2 √ó AMD EPYC 7742 (<b>128 —è–¥–µ—Ä</b>)</p>
        <p>8 channel memory, max throughput <b>190 GiB/s</b></p>

        <p>–î–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏,<br/>—Å–∂–∞—Ç—ã–º–∏ LZ4, —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–µ–µ.</p>
        <p>–ù–æ –µ—Å–ª–∏ —è–¥–µ—Ä –º–µ–Ω—å—à–µ &mdash; —É–∂–µ –Ω–µ –≤—Å—ë –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ.</p>
        <p style="color: gray;">–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ö–æ—Ä–æ—à–æ —Å–∂–∞—Ç—ã, —Ç–æ —Ä–∞–∑–∂–∞—Ç–∏–µ –≤—Å—ë-—Ç–∞–∫–∏ —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ CPU,<br/> –∞ –∑–Ω–∞—á–∏—Ç, –µ–≥–æ –º–æ–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å!</p>
    </section>

    <section class="slide">
        <h2 style="font-size: 32pt;">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ ClickHouse</h2>
        <p style="margin-top: -1em;">–î–ª—è <b>Memory</b> —Ç–∞–±–ª–∏—Ü:</p>
        <p>&mdash; –£–º–µ–Ω—å—à–∏–ª–∏ —Ä–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏<br/>–¥–ª—è –ª—É—á—à–µ–π –∫—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö <a href="https://github.com/ClickHouse/ClickHouse/pull/20169">#20169</a>.</p>
        <p>&mdash; –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è Memory —Ç–∞–±–ª–∏—Ü <a href="https://github.com/ClickHouse/ClickHouse/pull/20168">#20168</a>.</p>
        <p>–î–ª—è <b>MergeTree</b> —Ç–∞–±–ª–∏—Ü:</p>
        <p>&mdash; –£–±—Ä–∞–ª–∏ –ª–∏—à–Ω–µ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–µ–∂–∏–º–∞ —Å–∂–∞—Ç–∏—è NONE <a href="https://github.com/ClickHouse/ClickHouse/pull/22145">#22145</a>.</p>
        <p>&mdash; –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–∏—Ç—å —á–µ–∫—Å—É–º–º—ã –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ <a href="https://github.com/ClickHouse/ClickHouse/pull/19588">#19588</a>,<br/>–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–¥–æ.</p>
        <p>&mdash; –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é mmap <a href="https://github.com/ClickHouse/ClickHouse/pull/8520">#8520</a>, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å<br/>–ª–∏—à–Ω–µ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ page cache –∞ —Ç–∞–∫–∂–µ –∫—ç—à memory mappings <a href="https://github.com/ClickHouse/ClickHouse/pull/22206">#22206</a>.</p>
    </section>

    <!--
        SELECT SearchPhrase, any(replaceAll(substring(URL, 1, 100), 'google', 'yandex')) AS s, count() AS c FROM test.hits GROUP BY SearchPhrase ORDER BY c DESC LIMIT 10
        SELECT SearchPhrase, any(replaceAll(substring(URL, 1, 100), 'google', 'yandex')) AS s, count() AS c FROM test.hits_memory GROUP BY SearchPhrase ORDER BY c DESC LIMIT 10
        DROP TABLE test.hits_memory
        CREATE TABLE test.hits_memory AS test.hits ENGINE = Memory SETTINGS compress = 1;
        INSERT INTO test.hits_memory SELECT * FROM test.hits;
        SELECT SearchPhrase, any(replaceAll(substring(URL, 1, 100), 'google', 'yandex')) AS s, count() AS c FROM test.hits_memory GROUP BY SearchPhrase ORDER BY c DESC LIMIT 10
        -->

    <section class="slide">
        <video style="width: 100%;"><source src="video/memory_compressed_slower.mp4" type="video/mp4"></video>
    </section>

    <section class="slide">
        <video style="width: 100%;"><source src="video/memory_compressed_faster.mp4" type="video/mp4"></video>
    </section>

    <section class="slide">
        <h2>–í—ã–≤–æ–¥—ã</h2>
        <p>–ß—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω—É–∂–Ω–æ –≤—Å–µ–≥–æ –ª–∏—à—å:</p>
        <p>&mdash; —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–∞—à –∫–æ–¥;</p>
        <p>&mdash; –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –Ω–∞–≥—Ä—É–∑–∫–∏;</p>
        <p>&mdash; –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∂–µ–ª–µ–∑–∞;</p>
        <p>...</p>
        <p>&mdash; –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å —á—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ –º–Ω–æ–≥–æ —è–¥–µ—Ä, –∞ —É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –µ—Å—Ç—å –∫—ç—à;<br/>&emsp; –Ω–µ –ø—É—Ç–∞—Ç—å latency –∏ throughput :)</p>
    </section>

    <section class="slide">
        <h2>–°–ø–∞—Å–∏–±–æ!</h2>
    </section>


    <div class="progress"></div>
    <script src="shower/shower.min.js"></script>

    <!--Video plugin-->
    <link rel="stylesheet" href="shower/shower-video.css">
    <script src="shower/shower-video.js"></script>
    <!--/Video plugin-->
</body>
</html>
