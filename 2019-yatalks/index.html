<!DOCTYPE html>
<html lang="en">
<head>
    <title>ClickHouse Performance Optimization Secrets</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="pictures/preview.jpg">
    <meta property="og:title" content="ClickHouse Performance Optimization Secrets">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="pictures/preview.jpg">
    <link rel="stylesheet" href="shower/themes/yandex/styles/screen-16x10.css">

    <style type="text/css">
         code { display: block; white-space: pre; background-color: #EEE; }
         p.cloud { text-align: center; line-height: 1.5; }
         p.cloud span { font-size: 13pt; color: gray; padding: 0 20px 0 20px; white-space: nowrap; }
    </style>
</head>
<body class="shower list">
    <header class="caption">
        <h1>ClickHouse Performance Optimization Secrets</h1>
    </header>

    <section class="slide" id="cover">
        <h1 style="margin-top: 150px; font-size: 42pt; line-height: 150%;"><span style="background: rgba(255, 255, 255, 0.75)">ClickHouse Performance Optimization Secrets</span></h1>
    </section>

<section class="slide">
<h2>Trivial Facts</h2>
<p>and basic principles.</p>
</section>

<section class="slide">
<h2>Development Principles</h2>
<p style="font-size: 36pt;">Top-down development
<br/>or bottom-up?</p>
</section>

<section class="slide">
<h2>Development Principles</h2>
<img style="float: right; height: 60%; margin-left: -60px; margin-top: -60px; margin-right: 20px;" src="pictures/not_optimal.webp"/>
<p>Top-down:</p>
<p>&mdash; define project architecture;</p>
<p>&mdash; define what classes will be in the code;</p>
<p>&mdash; draw diagrams;</p>
</section>

<section class="slide">
<h2>Development Principles</h2>
<img style="float: left; height: 60%; margin-left: -60px; margin-top: -60px; margin-right: 20px;" src="pictures/optimal.webp"/>
<p>Bottom-up:</p>
<p>&mdash; how will the inner loop work?</p>
<p>&mdash; what's the memory layout of data?</p>
<p>&mdash; which bytes get moved where?</p>
</section>

<section class="slide">
<h2>How ClickHouse Appeared</h2>
<p>ClickHouse emerged from a prototype,<br/>
implemented in 2008<br/>
to solve a single task:<br/>
&mdash; efficiently filter and aggregate data.</p>
<p>&mdash; that is, efficiently execute <b>GROUP BY</b>.</p>
<p><a href="https://habr.com/en/company/yandex/blog/273305/">https://habr.com/en/company/yandex/blog/273305/</a></p>
</section>

<section class="slide">
<h2>How ClickHouse Appeared</h2>
<img style="height: 80%; margin-top: -1em;" src="pictures/constructor.png"/>
</section>

<section class="slide">
<h2>Hardware Capabilities</h2>
<p>1. What characteristics (throughput, latency, volume...)
<br/>&emsp;does our hardware have (CPU, RAM, SSD, disks, network...)
<br/>&emsp;and for which operations?</p>
<p>2. What data structures do we use
<br/>&emsp;and how do they work with our hardware?</p>
<p>3. Use arithmetic...</p>
</section>

<section class="slide">
<h2>Hardware Capabilities</h2>
<p>Example:</p>
<p>&mdash; we'll do GROUP BY in memory;</p>
<p>&mdash; we'll put data in a hash table;</p>
<p>&mdash; if the hash table is large, it doesn't fit in L3 CPU cache;</p>
<p>&mdash; if keys are not locally distributed,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then for each row &mdash; L3 cache miss;</p>
<p>&mdash; L3 cache miss has latency of 70..100 ns;</p>
<p>How many keys per second can a GROUP BY query process?</p>
</section>

<section class="slide">
<h2>Hardware Capabilities</h2>
<p>Example:</p>
<code style="font-size: 32pt;">SELECT rand() % 10000000 AS k
    FROM system.numbers_mt
    GROUP BY k</code>
<p style="margin-top: 1em;"><b>175.52</b> million rows/s.</p>
</section>

<section class="slide">
<h2>Hardware Capabilities</h2>
<p>L3 cache miss has throughput of 40 million ops/sec on a single CPU core</p>
<p>and ~500 million ops/sec* on 32 hyper-threading CPU cores<br/>(Xeon E5-2650v2).</p>
<p style="margin-top: 2em;">Never confuse latency and throughput!</p>
<p style="margin-top: 5em; font-size: 80%; color: gray;">* but we only got 175 million rows per second. Is ClickHouse slow?</p>
</section>

<section class="slide">
<h2>Abstractions Serve Algorithms</h2>
<p>If maximum efficiency is needed<br/>
&mdash; <b>interfaces in code are defined by algorithms</b>, not the other way around!</p>
</section>

<section class="slide">
<h2>Abstractions Serve Algorithms</h2>
<p>Example: substring search:</p>
<p>&mdash; in C: <b>strstr</b>, <b>memmem</b>;</p>
<p>&mdash; in C++: <b>std::search</b>, <b>std::string::find</b>.</p>
<p>These functions are slow (in certain usage scenarios).</p>
</section>

<section class="slide">
<h2>Abstractions Serve Algorithms</h2>
<p>Substring search:</p>
<code style="margin-left: -15px; margin-right: -15px;">void * memmem(const void * haystack, size_t haystacklen,
              const void * needle, size_t needlelen);</code>
<p style="margin-top: 1em;">&mdash; no separate initialization function;
<br/>&mdash; reentrant requirements &mdash; can't allocate memory inside.</p>
<p>What if we search for the same <b>needle</b> in 1,000,000 different <b>haystacks</b>?</p>
<code style="margin-left: -15px; margin-right: -15px;">Searcher searcher(needle);
for (const auto &amp; haystack : haystacks)
    searcher.search(haystack);</code>
</section>

<section class="slide">
<h2>Abstractions Serve Algorithms</h2>
<p>Substring search:</p>
<code style="margin-left: -15px; margin-right: -15px;">void * memmem(const void * haystack, size_t haystacklen,
              const void * needle, size_t needlelen);</code>
<p style="margin-top: 1em;">If we search for the same <b>needle</b> in 1,000,000 different <b>haystacks</b>,
<br/>then none of the functions <b>strstr</b>, <b>memmem</b>, <b>std::search</b>, <b>std::string::find</b>
<br/>will work well, because <span style="color: red;">their interface doesn't allow it</span>.</p>
<p>Without changing the abstraction, the code can't be made maximally efficient.</p>
</section>

<section class="slide">
<h2>Can Always Do Better</h2>
<p>If you know your task better.</p>
<p>&mdash; substring search;
<br/>(but smart people already wrote <b>std::search</b>)</p>
<p>&mdash; array sorting;
<br/>(but smart people already wrote <b>std::sort</b>)</p>
<p>&mdash; hash table;
<br/>(but smart people already wrote <b>std::unordered_map</b>)</p>
</section>

<section class="slide">
<h2>Each Task is a Landscape</h2>
<p>Substring search:</p>
<p>&mdash; exact or approximate search?
<br/>&mdash; of one or multiple strings?
<br/>&mdash; explicitly defined set or defined by a language?
<br/>&mdash; relatively short or long substrings?
<br/>&mdash; is substring a subsequence of
<br/>bytes / unicode code points / characters with collation / words?
<br/>&mdash; search in unknown or fixed string?
<br/>&mdash; located entirely in memory or as a data stream?
<br/>&mdash; with strict time guarantees or without?</p>
</section>

<section class="slide">
<p class="cloud">
<span>Brute Force algorithm</span>
<span>Deterministic Finite Automaton algorithm</span>
<span>Karp-Rabin algorithm</span>
<span>Shift Or algorithm</span>
<span>Morris-Pratt algorithm</span>
<span>Knuth-Morris-Pratt algorithm</span>
<span>Simon algorithm</span>
<span>Colussi algorithm</span>
<span>Galil-Giancarlo algorithm</span>
<span>Apostolico-Crochemore algorithm</span>
<span>Not So Naive algorithm</span>
<span>Boyer-Moore algorithm</span>
<span>Turbo BM algorithm</span>
<span>Apostolico-Giancarlo algorithm</span>
<span>Reverse Colussi algorithm</span>
<span>Horspool algorithm</span>
<span>Quick Search algorithm</span>
<span>Tuned Boyer-Moore algorithm</span>
<span>Zhu-Takaoka algorithm</span>
<span>Berry-Ravindran algorithm</span>
<span>Smith algorithm</span>
<span>Raita algorithm</span>
<span>Reverse Factor algorithm</span>
<span>Turbo Reverse Factor algorithm</span>
<span>Forward Dawg Matching algorithm</span>
<span>Backward Nondeterministic Dawg Matching algorithm</span>
<span>Backward Oracle Matching algorithm</span>
<span>Galil-Seiferas algorithm</span>
<span>Two Way algorithm</span>
<span>String Matching on Ordered Alphabets algorithm</span>
<span>Optimal Mismatch algorithm</span>
<span>Maximal Shift algorithm</span>
<span>Skip Search algorithm</span>
<span>KMP Skip Search algorithm</span>
<span>Alpha Skip Search algorithm</span>
</p>
<p><a href="https://www-igm.univ-mlv.fr/~lecroq/string/">https://www-igm.univ-mlv.fr/~lecroq/string/</a></p>
<p>None of these algorithms are used in ClickHouse.</p>
</section>

<section class="slide">
<h2>Each Task is a Landscape</h2>
<p>ClickHouse uses:<br/>
<br/>&mdash; <b>Volnitsky</b> algorithm for constant needle;
<br/>&mdash; SIMD variant of brute-force for non-constant needle;
<br/>&mdash; <b>Volnitsky</b> algorithm for small set of constant needles;
<br/>&mdash; re2 and hyperscan for regular expressions.
</p>
<p><a href="https://habr.com/en/company/yandex/blog/466183/">https://habr.com/en/company/yandex/blog/466183/</a></p>
</section>

<section class="slide">
<h2>Each Task is a Landscape</h2>
<p>Sorting</p>
<p>&mdash; array of numbers / tuples / strings / structures?</p>
<p>&mdash; entirely available in RAM?</p>
<p>&mdash; by comparisons / 3-way comparisons /<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallel comparisons / radix?</p>
<p>&mdash; direct / indirect?</p>
<p>&mdash; stable / non-stable?</p>
<p>&mdash; full / partial / n-th element?</p>
<p>&mdash; finishing sort / merge / partial sort?</p>
</section>

<section class="slide">
<h2>Each Task is a Landscape</h2>
<p>ClickHouse uses <b>pdqsort</b> and <b>radix sort</b>,<br/>
but generally it's all bad and needs to be redone.</p>
</section>

<section class="slide">
<h2>Each Task is a Landscape</h2>
<p>Hash table</p>
<p>
&mdash; hash function selection;<br/>
&mdash; memory layout: open-addressing vs. chaining;<br/>
&mdash; large or small values;<br/>
&mdash; support for non-movable values needed;<br/>
&mdash; memory layout: keys and values in one array or separate;<br/>
&mdash; collision resolution method;<br/>
&mdash; value deletion method;<br/>
&mdash; fill factor; how and when to resize;<br/>
&mdash; how to move values during resize;<br/>
&mdash; fast probing with bit masks;<br/>
&mdash; inline placement of string keys;<br/>
&mdash; prefetch and batching;
</p>
</section>

<section class="slide">
<h2>Hash Table</h2>
<p>ClickHouse uses the best* hash table.</p>
<p>* for its task.<br/>
* not one, but many different ones.<br/>
* and now we'll make it even better:<br/><br/>
<a href="https://github.com/ClickHouse/ClickHouse/pull/5417">https://github.com/ClickHouse/ClickHouse/pull/5417</a></p>
</section>

<section class="slide">
<h2>Can Always Do Better</h2>
<p>If you know your task better.</p>
<p style="color: green;">&mdash; substring search;</p>
<p style="color: green;">&mdash; array sorting;</p>
<p style="color: green;">&mdash; hash table;</p>
<p>...</p>
<p>&mdash; memory allocator (<b>malloc</b>);</p>
<p>&mdash; byte copying (<b>memcpy</b>);</p>
</section>

<section class="slide">
<h2>Can Always Do Better</h2>
<p>ClickHouse uses:</p>
<p>&mdash; &laquo;Chinese&raquo; memcpy;</p>
<p>&mdash; memcpy for gathering short memory chunks:<br/>
<br/><b>memcpySmallAllowReadWriteOverflow15</b></p>
</section>

<section class="slide">
<h2>Can Always Do Better</h2>
<p>or take the best!</p>
<p>If someone on the internet says their algorithm is &laquo;the best&raquo;
<br/>&mdash; we pull it into ClickHouse.</p>
<p>... and then throw it out if it's not the best.</p>
<p>Example: <b>simdjson</b> &mdash; took it, didn't throw out.</p>
<p>Example: <b>mimalloc</b> &mdash; took it, threw out.</p>
</section>



<section class="slide">
<h2>Task Specialization</h2>
<p>Trivial example:</p>
<code>WHERE str LIKE '%hello%world!%'</code>
<p>&mdash; re2 regular expression<br/>but before that &mdash; substring search for "world!";</p>
<code>WHERE str LIKE '%hello%'</code>
<p>&mdash; substring search;</p>
<code>WHERE str LIKE 'hello%'</code>
<p>&mdash; prefix comparison.</p>
<p style="color: gray">Similar optimization exists even in MySQL.</p>
</section>

<section class="slide">
<h2>Task Specialization</h2>
<p style="margin-top: -1em;">Specialization by data types (GROUP BY example):</p>

<code style="font-size: 12pt; margin-left: -20px; margin-right: -40px;">using AggregatedDataWithoutKey = AggregateDataPtr;

...UInt8Key = <b>FixedHashMap</b>&lt;UInt8, AggregateDataPtr>;
...UInt16Key = FixedHashMap&lt;UInt16, AggregateDataPtr>;

...UInt64Key = HashMap&lt;UInt64, AggregateDataPtr, <b>HashCRC32</b>&lt;UInt64>>;
...StringKey = HashMap<b>WithSavedHash</b>&lt;StringRef, AggregateDataPtr>;
...Keys128 = HashMap&lt;UInt128, AggregateDataPtr, UInt128HashCRC32>;
...Keys256 = HashMap&lt;UInt256, AggregateDataPtr, UInt256HashCRC32>;

...UInt64KeyTwoLevel = <b>TwoLevel</b>HashMap&lt;UInt64, AggregateDataPtr, HashCRC32&lt;UInt64>>;
...StringKeyTwoLevel = TwoLevelHashMapWithSavedHash&lt;StringRef, AggregateDataPtr>;
...Keys128TwoLevel = TwoLevelHashMap&lt;UInt128, AggregateDataPtr, UInt128HashCRC32>;
...Keys256TwoLevel = TwoLevelHashMap&lt;UInt256, AggregateDataPtr, UInt256HashCRC32>;

...UInt64KeyHash64 = HashMap&lt;UInt64, AggregateDataPtr, <b>DefaultHash</b>&lt;UInt64>>;
...StringKeyHash64 = HashMapWithSavedHash&lt;StringRef, AggregateDataPtr, StringRefHash64>;
...Keys128Hash64 = HashMap&lt;UInt128, AggregateDataPtr, UInt128Hash>;
...Keys256Hash64 = HashMap&lt;UInt256, AggregateDataPtr, UInt256Hash>;
</code>
<p>&mdash; <a href="https://github.com/ClickHouse/ClickHouse/blob/master/dbms/src/Interpreters/Aggregator.h">dbms/src/Interpreters/Aggregator.h</a></p>
</section>


<section class="slide">
<h2>Task Specialization</h2>
<p>Specialization by data volume.</p>
<p>Example: <b>quantileTiming</b> function:<br/>
&mdash; up to 64 values &mdash; flat array in arena;<br/>
&mdash; up to 5670 values &mdash; flat array in heap;<br/>
&mdash; more &mdash; fixed-type histogram.<br/>
(<a href="https://github.com/ClickHouse/ClickHouse/blob/master/dbms/src/AggregateFunctions/QuantileTiming.h">QuantileTiming.h</a>)
</p>
<p>Example: <b>uniqCombined</b> function:<br/>
&mdash; flat array;<br/>
&mdash; hash table;<br/>
&mdash; HyperLogLog.<br/>
(<a href="https://github.com/ClickHouse/ClickHouse/blob/master/dbms/src/Common/CombinedCardinalityEstimator.h">CombinedCardinalityEstimator.h</a>)
</p>
</section>


<section class="slide">
<h2 style="font-size: 32pt; line-height: 1.5;">Data Structures Considered<br/>in Task Context</h2>
<p>How to choose a data structure?</p>
<p>&mdash; determine what it does that's needed and unneeded.</p>
<p>Trivial example: <b>std::string</b>:</p>
<p>&mdash; manages memory for the string itself.</p>
<p>&mdash; allows string modification,<br/>&emsp; e.g. appending another character.</p>
<p>&mdash; knows the string size itself.</p>
</section>

<section class="slide">
<h2 style="font-size: 32pt; line-height: 1.5;">Data Structures Considered<br/>in Task Context</h2>
<p>Trivial example: how to execute GROUP BY?</p>
<p>Option 1:<br/>&mdash; sort the array;<br/>&mdash; then walk through it,<br/>&emsp; computing aggregate functions for identical keys.</p>
<p>Option 2:<br/>&mdash; put keys in a hash table;<br/>&mdash; when encountering an existing key,<br/>&emsp; update aggregate function states.</p>
<p style="color: gray;">Answer: option 2 is better; but if data is nearly sorted, better to finish sorting and use option 1; and if data doesn't fit in memory, partition it, then option 2.</p>
</section>


<section class="slide">
<h2 style="font-size: 28pt;">Algorithms Consider Data Distribution</h2>
<code style="font-size: 12pt; margin-top: -1em;">#ifdef __SSE2__
/** A slightly more optimized version.
  * Based on the assumption that often sequences of consecutive values
  *  completely pass or do not pass the filter.
  * Therefore, we will optimistically check the sequences of SIMD_BYTES values.
  */

static constexpr size_t SIMD_BYTES = 16;
const __m128i zero16 = _mm_setzero_si128();
const UInt8 * filt_end_sse = filt_pos + size / SIMD_BYTES * SIMD_BYTES;

while (filt_pos &lt; filt_end_sse)
{
    int mask = _mm_movemask_epi8(
        _mm_cmpgt_epi8(
            _mm_loadu_si128(reinterpret_cast<const __m128i *>(filt_pos)), zero16));

    if (0 == mask)
    {
        /// Nothing is inserted.
    }
    else if (0xFFFF == mask)
    {
        res_data.insert(data_pos, data_pos + SIMD_BYTES);
    }
    else
</code>
</section>

<section class="slide">
<h2 style="font-size: 28pt;">Algorithms Consider Data Distribution</h2>
<code style="font-size: 12pt; margin-top: -1em;">static inline int digits10(uint128_t x)
{
    if (x &lt; 10ULL)
        return 1;
    if (x &lt; 100ULL)
        return 2;
    if (x &lt; 1000ULL)
        return 3;

    if (x &lt; 1000000000000ULL)
    {
        if (x &lt; 100000000ULL)
        {
            if (x &lt; 1000000ULL)
            {
                if (x &lt; 10000ULL)
                    return 4;
                else
                    return 5 + (x >= 100000ULL);
            }

            return 7 + (x >= 10000000ULL);
        }

        if (x &lt; 10000000000ULL)
            return 9 + (x >= 1000000000ULL);

        return 11 + (x >= 100000000000ULL);
    }

    return 12 + digits10(x / 1000000000000ULL);
}
</code>
</section>

<section class="slide">
<h2 style="font-size: 28pt;">Algorithms Learn from Data</h2>
<video style="width: 100%;"><source src="video/bandits.mp4" type="video/mp4"></video>
<p style="font-size: 12pt; color: #888;">Source: <a href="https://learnforeverlearn.com/bandits/">https://learnforeverlearn.com/bandits/</a></p>
</section>

<section class="slide">
<h2>Multi-Armed Bandits</h2>

<p>&mdash; choose different options randomly;</p>
<p>&mdash; collect statistics for each;</p>
<p>&mdash; treat time for each option as a random variable;</p>
<p>&mdash; estimate time distribution for each option;</p>
</section>

<section class="slide">
<h2>Thompson Sampling</h2>
<p>&mdash; &laquo;mentally draw&raquo; a random variable for each option;</p>
<p>&mdash; choose the one with the best drawn value.</p>
<p>Used to optimize LZ4 decompression in ClickHouse.</p>
<p><a href="https://habr.com/en/company/yandex/blog/452778/">https://habr.com/en/company/yandex/blog/452778/</a>
</section>


<section class="slide">
<h2>Testing on Real Data</h2>
<p>Example:</p>
<p>Suppose we're testing the performance
<br/>not of an analytical database, but something simpler:
<br/>for example, hash tables.</p>
<p>Hash table performance depends on the balance<br/>between quality and speed of the hash function.</p>
</section>


<section class="slide">
<h2>Real Data is Important</h2>
<div style="background-color: #DEF; line-height: 1.25; width: 50%; padding: 10px; border-radius: 25px;">
um, it's just a trivial test ...
<br/>clickhouse hashmap takes 10GB
<br/>this only takes 2
<br/>and it's 60% faster
</div>

<div style="background-color: #DFD; line-height: 1.25; width: 60%; padding: 10px; border-radius: 25px; margin-left: 30%;">
Alexey Milovidov
<br/>This test almost doesn't make sense...
<br/>Let me share a dataset with real strings...
<br/>[ File : data.tar ]
</div>

<div style="background-color: #DEF; line-height: 1.25; width: 50%; padding: 10px; border-radius: 25px;">
clickhouse hashmap is faster
<br/>from 2 times to 5 times
</div>
</section>

<section class="slide">
<h2>Data Obfuscation</h2>
<code style="margin-left: -100px; margin-right: -100px; margin-top: -1em; margin-bottom: 1em;">Progaradar-children pregnant departures or Dachna Brideica and MO | Freezers. - Posters to enter into Accessories
Progaradar-children shore — Yandex.Money: Payment journal five bicycles on Lore - dfghf — ya.ru - real estate in Moscow) by 473682 announcements - Sale Comprom
Progaradar-children free! in large assortment»in Moscow - Embroidery — Omsk Free in Most sandal height
Progaradar-children free! in large assortment»in Moscow, transport portal
Progaradar-children berdyansk Fashions. Recipe with photo gallery and covered loud football Muscovy@Mail.Ru - Search
Progaradar-children pregnant sale Watch best price, community 2010 | Designer MAIN. Delivery
Progaradar-children free! in large assortment work Price: 820 0000 km., Taganda apartments in Saint-Pet
Progaradar-children pregnant monthly - DoramaTv.ru - Dresses around world. Internet sale auto used and on with discount
Progaradar-children pregnant room in 2013 year, policemen used in Stavropavlina and strollers ->  Magnetaz 80 cell.RU
Progaradar-children pregnant - Official forums Kalinin (Ukraine. Avtoria Baksler Kudryavtsev delivery, vacancies, hotel sale
Progaradar-children pregnancy detailed bld. 5, 69, communication W*oychivom - Yandex.Maps, houses, what price tow truck forum games World of Tanks
Progaradar-children cap, fatherland and in pink page 2 from cabinet search by health@Mail.Ru
Progaradar-children pregnancy program in China heights Bar, weather Maniku. Records in Smolensk</code>
<p>Using the <b>clickhouse-obfuscator</b> utility.</p>
</section>


<section class="slide">
<h2>More Principles...</h2>
<p>Developer access to production.</p>
<p>Instrumentation, monitoring, diagnostics.</p>
<p>Fast release cycle.</p>
</section>


<section class="slide">
<h2>Conclusions</h2>
<p>To make your code run fast, you just need to:</p>
<p>&mdash; consider lower levels when designing the system;<br/>
&mdash; start from hardware capabilities;<br/>
&mdash; choose data structures and abstractions based on the task;<br/>
&mdash; apply specializations for specific cases;<br/>
&mdash; try new, &laquo;best&raquo; algorithms,<br/>&emsp; that you read about yesterday;<br/>
&mdash; choose algorithm variants at runtime based on statistics;<br/>
&mdash; test on real data;<br/>
&mdash; control performance in CI;<br/>
&mdash; measure and observe everything;<br/>
&mdash; including in production;<br/>
&mdash; and constantly redo everything;</p>
</section>



<section class="slide">
<h2><span style="background: rgba(255, 255, 255, 0.75)">.</span></h2>
<p>Query Performance Analysis in ClickHouse: <br/><a href="https://youtu.be/ondHe_JUyW4">https://youtu.be/ondHe_JUyW4</a></p>
<p>How Hash Tables Work in ClickHouse: <br/><a href="https://youtu.be/EoX82TEz2sQ">https://youtu.be/EoX82TEz2sQ</a></p>
<p>Parallel and Distributed GROUP BY: <br/><a href="https://youtu.be/SrucFOs8Y6c">https://youtu.be/SrucFOs8Y6c</a></p>
<p>How to Speed Up LZ4 Decompression: <br/><a href="https://youtu.be/V2CqQBICt7M">https://youtu.be/V2CqQBICt7M</a></p>
<p>Database Obfuscation: <br/><a href="https://youtu.be/2iR7i4akL44">https://youtu.be/2iR7i4akL44</a></p>
</section>

    <section class="slide">
        <h2>.</h2>
        <p>Web site: <a href="https://clickhouse.com/">https://clickhouse.com/</a></p>
        <p>Maillist: clickhouse-feedback@yandex-team.com</p>
        <p>YouTube: <a href="https://www.youtube.com/c/ClickHouseDB">https://www.youtube.com/c/ClickHouseDB</a></p>
        <p>Telegram chat: <a href="https://telegram.me/clickhouse_ru">https://telegram.me/clickhouse_ru</a>, <a href="https://telegram.me/clickhouse_en">clickhouse_en</a></p>
        <p>GitHub: <a href="https://github.com/ClickHouse/ClickHouse/">https://github.com/ClickHouse/ClickHouse/</a></p>
        <p>Twitter: <a href="https://twitter.com/ClickHouseDB">https://twitter.com/ClickHouseDB</a></p>
        <p>Google groups: <a href="https://groups.google.com/forum/#!forum/clickhouse">https://groups.google.com/forum/#!forum/clickhouse</a></p>
    </section>

    <div class="progress"></div>
    <script src="shower/shower.min.js"></script>

    <!--Video plugin-->
    <link rel="stylesheet" href="shower/shower-video.css">
    <script src="shower/shower-video.js"></script>
    <!--/Video plugin-->
</body>
</html>
